{% extends "base.html" %}
{% load static %}

{% block extra_title %} - Create Review{% endblock %}


{% block content %}
    <div class="container review-form">
        <div class="row">
            <div class="col-12 col-md-6">
                <h2 class="main-print mb-4">Create a Review</h2>
                <h5 class="side-print">Review</h5>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-md-6">
                <!-- form to add review and rating -->
                <form action="{% url 'create_review' %}" method="POST" class="form mb-2" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div>
                        <input type="text" id="id_name" name="name" value="{{ user.username }}" class="user-input-remove">
                    </div>
                    <div class="review-written-by">
                        <p>This review will be made by {{ user.username }}</p>
                    </div>
                    <div>
                        <label for="id_rating">Rate between 1 and 5 stars</label><br>

                        <input type="radio" class="fa-regular fa-star star-1 star-1-1 star-1-2 star-1-3 star-1-4" id="id_rating" name="rating" value="1" required>
                        <input type="radio" class="fa-regular fa-star star-2 star-1-2 star-1-3 star-1-4" id="id_rating" name="rating" value="2">
                        <input type="radio" class="fa-regular fa-star star-3 star-1-3 star-1-4" id="id_rating" name="rating" value="3">
                        <input type="radio" class="fa-regular fa-star star-4 star-1-4" id="id_rating" name="rating" value="4">
                        <input type="radio" class="fa-regular fa-star star-5" id="id_rating" name="rating" value="5">
                        <br>

                        <label for="id_review">Leave your review below</label><br>
                        <textarea name="review" id="id_review" rows="6" class="shadow text-area" cols="60" required></textarea>
                    </div>
                    <div class="text-right">
                        <a href="{% url 'home' %}" class="shadow button cancel-btn">Cancel</a>
                        <button class="shadow button add-edit-btn" type="submit">Submit Review</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block postloadjs %}
{{ block.super }}
    <script>
        $('.star-1').click(function(){
            $('.star-1-1').css('font-weight', '600')
        })

        $('.star-2').click(function(){
            $('.star-1-2').css('font-weight', '600')
        })

        $('.star-3').click(function(){
            $('.star-1-3').css('font-weight', '600')
        })

        $('.star-4').click(function(){
            $('.star-1-4').css('font-weight', '600')
        })

        $('.star-5').click(function(){
            $('.fa-star').css('font-weight', '600')
        })
    </script>
{% endblock %}